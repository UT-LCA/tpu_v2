module velmshifter_laneunit_32 (
    clk,
    resetn,

    load,
    shift,
    dir_left,
    squash,

    inpipe,
    inxlaneleft,    // Cross-lane input from lane i+1
    inxlaneright,    // Cross-lane input from lane i-1
    outpipe

    );


input clk;
input resetn;

input  load;
input  shift;
input  dir_left;
input  squash;

input [ 32-1:0 ]  inpipe;
input [ 32-1:0 ]  inxlaneleft;    // X-lane input lane i-1
input [ 32-1:0 ]  inxlaneright;    // X-lane input lane i-1
output [ 32-1:0 ] outpipe;

reg [ 32-1:0 ] outpipe;   // Cross-lane output lane i+1


  always@(posedge clk)
    if (resetn==0 || squash)
      outpipe<=0;
    else if (load)
      outpipe<=inpipe;
    else if (shift)
      outpipe<=(dir_left) ? inxlaneright : inxlaneleft;

endmodule
        